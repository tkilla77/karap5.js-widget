(()=>{"use strict";var e={927:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_RUN_TIME=t.HEIGHT=t.PREVIEW_WIDTH=t.P5_VERSION=void 0,t.P5_VERSION="1.9.4",t.PREVIEW_WIDTH=250,t.HEIGHT=350,t.MAX_RUN_TIME=1e3},463:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(927)),s="p5-widget.js",u="p5-widget.html",c=["width: 100%","background-color: white","border: 1px solid #ec245e","box-sizing: border-box"];let l=document.currentScript||document.querySelectorAll("script[src$='"+s+"']")[0],d=function(e){let t=e.slice(0,-12);return"http:"===window.location.protocol&&/^https:/.test(t)&&(t=t.replace("https:","http:")),t}(l.src),p=!l.hasAttribute("data-manual"),h=1;function f(e){let t=parseInt(e.getAttribute("data-height"));return isNaN(t)&&(t=a.HEIGHT),t}function b(e){let t,n=document.createElement("iframe"),r=f(e),i=parseInt(e.getAttribute("data-preview-width")),o=function(e){let t=document.createElement("a");return t.setAttribute("href",e),t.href}(e.getAttribute("data-base-url")),a=e.getAttribute("data-p5-version"),s=parseInt(e.getAttribute("data-max-run-time")),l=e.hasAttribute("data-autoplay"),p=["id="+encodeURIComponent(e.getAttribute("data-id"))],h=c.slice();function b(i){p.push("sketch="+encodeURIComponent(i)),h.push("min-height: "+r+"px"),t=d+u+"?"+p.join("&"),n.setAttribute("src",t),n.setAttribute("style",h.join("; ")),e.parentNode.replaceChild(n,e)}if(!isNaN(i)&&i>=0&&p.push("previewWidth="+i),!isNaN(s)&&s>=0&&p.push("maxRunTime="+s),o&&p.push("baseSketchURL="+encodeURIComponent(o)),a&&p.push("p5version="+encodeURIComponent(a)),l&&p.push("autoplay=on"),e.src&&e.textContent&&e.textContent.trim())return b(['// Your widget includes both a "src" attribute and inline script',"// content, which makes no sense. Please remove one of them."].join("\n"));e.src?function(e,t){let n=n=>{let r=["// p5.js-widget failed to retrieve "+e+"."];n&&"string"==typeof n&&r.push("// "+n),t(r.join("\n"))},r=new XMLHttpRequest;r.open("GET",e),r.onload=()=>{200==r.status?t(r.responseText):n("Server returned HTTP "+r.status+".")},r.onerror=n,r.send(null)}(e.src,b):b(e.textContent)}function m(e){let t=f(e);e.style.display="block",e.style.fontSize="0",e.style.width="100%",e.style.minHeight=t+"px",e.style.background="#f0f0f0",e.hasAttribute("data-id")||(e.setAttribute("data-id",h.toString()),h++),function(e,t){let n;function r(){(function(e){var t=e.getBoundingClientRect();return t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)})(e)&&(clearInterval(n),window.removeEventListener("scroll",r,!1),window.removeEventListener("resize",r,!1),t(e))}n=setInterval(r,1e3),window.addEventListener("scroll",r,!1),window.addEventListener("resize",r,!1),r()}(e,b)}function w(){let e=document.querySelectorAll("script[type='text/p5']");[].slice.call(e).forEach((e=>{m(e)}))}p&&("complete"===document.readyState?w():window.addEventListener("load",w,!1)),window.p5Widget={baseURL:d,url:d+s,replaceScript:m,replaceAll:w,defaults:a}}},t={};!function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(463)})();
//# sourceMappingURL=p5-widget.js.map